(()=>{var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var W=O(()=>{var f=document.querySelector(".case-carousel");if(f){let n=function(i){if(i===s)return;let l=()=>{e[s].classList.remove("active"),r[s]?.classList.remove("active"),s=(i+e.length)%e.length,e[s].classList.add("active"),r[s]?.classList.add("active")};document.startViewTransition?document.startViewTransition(l):l()};F=n;let e=f.querySelectorAll(".case-slide"),t=f.querySelector(".carousel-prev"),o=f.querySelector(".carousel-next"),a=f.querySelector(".carousel-dots"),s=0,r=Array.from(e,(i,l)=>{let d=document.createElement("button");return d.className="carousel-dot",d.type="button",d.setAttribute("aria-label",`Go to slide ${l+1}`),d.addEventListener("click",()=>n(l)),a?.appendChild(d),d});t?.addEventListener("click",()=>n(s-1)),o?.addEventListener("click",()=>n(s+1)),f.addEventListener("keydown",i=>{i.key==="ArrowLeft"&&t?.click(),i.key==="ArrowRight"&&o?.click()}),r[0]?.classList.add("active")}var F,E=window.matchMedia("(prefers-reduced-motion: reduce)").matches;E&&document.documentElement.classList.add("reduce-motion");var u=document.getElementById("particleCanvas");if(u&&u.getContext){let s=function(){t=u.offsetWidth,o=u.offsetHeight,u.width=t,u.height=o,a.forEach(n=>{n.x=Math.random()*t,n.y=Math.random()*o,n.vx=(Math.random()-.5)*.5,n.vy=(Math.random()-.5)*.5})},r=function(){e.clearRect(0,0,t,o),a.forEach((n,i)=>{n.x+=n.vx,n.y+=n.vy,(n.x<0||n.x>t)&&(n.vx*=-1),(n.y<0||n.y>o)&&(n.vy*=-1),e.fillStyle="rgba(31,224,177,0.8)",e.beginPath(),e.arc(n.x,n.y,1.5,0,Math.PI*2),e.fill();for(let l=i+1;l<a.length;l++){let d=a[l],P=n.x-d.x,B=n.y-d.y,x=Math.hypot(P,B);x<80&&(e.strokeStyle=`rgba(31,224,177,${1-x/80})`,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(d.x,d.y),e.stroke())}}),requestAnimationFrame(r)};Y=s,$=r;let e=u.getContext("2d"),t,o,a=Array.from({length:80},()=>({x:0,y:0,vx:0,vy:0}));window.addEventListener("resize",s),s(),requestAnimationFrame(r)}var Y,$,h=document.getElementById("typedHero");if(h){let s=function(){let r=e[t]||"";if(a)h.textContent=r.slice(0,o-1),o--,o===0&&(a=!1,t=(t+1)%e.length);else if(h.textContent=r.slice(0,o+1),o++,o===r.length)return a=!0,setTimeout(s,2e3);setTimeout(s,a?50:100)};j=s;let e=JSON.parse(h.dataset.texts||"[]"),t=0,o=0,a=!1;s()}var j,R=new URLSearchParams(window.location.search),b=R.get("variant");b&&localStorage.setItem("apex-variant",b);var k=localStorage.getItem("apex-variant");k&&(document.body.dataset.variant=k);var L=document.querySelectorAll(".stat-number");E?L.forEach(e=>{let t=parseInt(e.dataset.count);e.textContent=t+"+"}):L.forEach(e=>{let t=parseInt(e.dataset.count),o=0,a=t/200;function s(){o<t?(o+=a,e.textContent=Math.ceil(o),requestAnimationFrame(s)):e.textContent=t+"+"}s()});var g=document.getElementById("darkModeToggle"),V=document.getElementById("themeTip");if(g){let e=localStorage.getItem("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e==="true"||e===null&&t)&&document.body.classList.add("dark-mode"),g.setAttribute("aria-pressed",document.body.classList.contains("dark-mode")?"true":"false"),g.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let o=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",o),g.setAttribute("aria-pressed",o?"true":"false")})}var w=document.querySelector(".header"),v=document.getElementById("backToTop"),S=document.getElementById("scrollProgress");v&&(window.addEventListener("scroll",()=>{if(window.scrollY>300?v.classList.add("show"):v.classList.remove("show"),w&&(window.scrollY>50?w.classList.add("scrolled"):w.classList.remove("scrolled")),S){let e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY/e*100;S.style.width=t+"%"}}),v.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));var D=document.querySelector('[popovertarget="navMenu"]'),y=document.getElementById("navMenu");if(D&&y&&y.showPopover){let t=function(){e.matches?y.showPopover():y.hidePopover()};H=t;let e=window.matchMedia("(min-width: 768px)");t(),e.addEventListener("change",t)}var H,C=document.querySelectorAll("section[id]"),T=document.querySelectorAll("#navMenu a");if(C.length&&T.length){let e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&T.forEach(a=>{let s=a.getAttribute("href").substring(1);a.classList.toggle("active",s===o.target.id)})})},{threshold:.6});C.forEach(t=>e.observe(t))}var N=E,I=document.querySelectorAll(".reveal");if(N)I.forEach(e=>{e.classList.add("visible"),Array.from(e.children).forEach(t=>t.classList.add("visible"))});else{let e=new IntersectionObserver(t=>{t.forEach(o=>{if(o.isIntersecting){let a=o.target,s=Array.from(a.children),r=0;s.forEach(n=>{let i=parseFloat(n.dataset.revealDelay||""),l=isNaN(i)?r:i;n.style.transitionDelay=`${l}s`,n.classList.add("visible"),isNaN(i)&&(r+=.1)}),a.classList.add("visible"),e.unobserve(a)}})},{threshold:.2});I.forEach(t=>e.observe(t))}var m=document.querySelector(".contact-form form"),c=document.getElementById("formStatus");m&&m.addEventListener("submit",async e=>{e.preventDefault();let t=m.elements.name.value.trim(),o=m.elements.email.value.trim(),a=m.elements.phone.value.trim(),s=m.elements.message.value.trim();if(!t||!o||!s){c&&(c.textContent="Please complete all required fields.",setTimeout(()=>c.textContent="",5e3));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){c&&(c.textContent="Please enter a valid email address.",setTimeout(()=>c.textContent="",5e3));return}try{let n=await fetch(m.action,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:o,phone:a,message:s})});c&&(c.textContent=n.ok?"Thank you for contacting ApexBuild!":"Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}catch{c&&(c.textContent="Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}m.reset()});var p=document.getElementById("cookieConsent"),A=document.getElementById("acceptCookies");p&&A&&(localStorage.getItem("cookies-accepted")||p.showModal(),A.addEventListener("click",()=>{localStorage.setItem("cookies-accepted","true"),p.close()}));var q=document.getElementById("currentYear");q&&(q.textContent=new Date().getFullYear());var M=document.getElementById("pointerRing");M&&window.matchMedia("(pointer: fine)").matches&&window.addEventListener("pointermove",e=>{M.style.transform=`translate(${e.clientX}px, ${e.clientY}px)`});"HTMLDialogElement"in window||document.querySelectorAll("dialog").forEach(e=>{dialogPolyfill.registerDialog(e)});if("PerformanceObserver"in window){let e="/perf";new PerformanceObserver(o=>{for(let a of o.getEntries())fetch(e,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,value:a.startTime})})}).observe({type:"largest-contentful-paint",buffered:!0})}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(e=>{function t(){confirm("A new version is available. Reload now?")&&window.location.reload()}e.waiting&&t(),e.addEventListener("updatefound",()=>{let o=e.installing;o&&o.addEventListener("statechange",()=>{o.state==="installed"&&e.waiting&&t()})})})});W();})();
