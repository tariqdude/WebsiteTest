(()=>{var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var J=R(()=>{var g=document.querySelector(".case-carousel");if(g){let n=function(d){if(d===s)return;let l=()=>{e[s].classList.remove("active"),r[s]?.classList.remove("active"),s=(d+e.length)%e.length,e[s].classList.add("active"),r[s]?.classList.add("active")};document.startViewTransition?document.startViewTransition(l):l()};D=n;let e=g.querySelectorAll(".case-slide"),t=g.querySelector(".carousel-prev"),o=g.querySelector(".carousel-next"),a=g.querySelector(".carousel-dots"),s=0,r=Array.from(e,(d,l)=>{let c=document.createElement("button");return c.className="carousel-dot",c.type="button",c.setAttribute("aria-label",`Go to slide ${l+1}`),c.addEventListener("click",()=>n(l)),a?.appendChild(c),c});t?.addEventListener("click",()=>n(s-1)),o?.addEventListener("click",()=>n(s+1)),g.addEventListener("keydown",d=>{d.key==="ArrowLeft"&&t?.click(),d.key==="ArrowRight"&&o?.click()}),r[0]?.classList.add("active")}var D,x=window.matchMedia("(prefers-reduced-motion: reduce)").matches;x&&document.documentElement.classList.add("reduce-motion");var u=document.getElementById("particleCanvas");if(u&&u.getContext){let s=function(){t=u.offsetWidth,o=u.offsetHeight,u.width=t,u.height=o,a.forEach(n=>{n.x=Math.random()*t,n.y=Math.random()*o,n.vx=(Math.random()-.5)*.5,n.vy=(Math.random()-.5)*.5})},r=function(){e.clearRect(0,0,t,o),a.forEach((n,d)=>{n.x+=n.vx,n.y+=n.vy,(n.x<0||n.x>t)&&(n.vx*=-1),(n.y<0||n.y>o)&&(n.vy*=-1),e.fillStyle="rgba(31,224,177,0.8)",e.beginPath(),e.arc(n.x,n.y,1.5,0,Math.PI*2),e.fill();for(let l=d+1;l<a.length;l++){let c=a[l],M=n.x-c.x,B=n.y-c.y,b=Math.hypot(M,B);b<80&&(e.strokeStyle=`rgba(31,224,177,${1-b/80})`,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(c.x,c.y),e.stroke())}}),requestAnimationFrame(r)};F=s,H=r;let e=u.getContext("2d"),t,o,a=Array.from({length:80},()=>({x:0,y:0,vx:0,vy:0}));window.addEventListener("resize",s),s(),requestAnimationFrame(r)}var F,H,v=document.getElementById("typedHero");if(v){let s=function(){let r=e[t]||"";if(a)v.textContent=r.slice(0,o-1),o--,o===0&&(a=!1,t=(t+1)%e.length);else if(v.textContent=r.slice(0,o+1),o++,o===r.length)return a=!0,setTimeout(s,2e3);setTimeout(s,a?50:100)};$=s;let e=JSON.parse(v.dataset.texts||"[]"),t=0,o=0,a=!1;s()}var $,O=new URLSearchParams(window.location.search),L=O.get("variant");L&&localStorage.setItem("apex-variant",L);var k=localStorage.getItem("apex-variant");k&&(document.body.dataset.variant=k);var S=document.querySelectorAll(".stat-number");x?S.forEach(e=>{let t=parseInt(e.dataset.count);e.textContent=t+"+"}):S.forEach(e=>{let t=parseInt(e.dataset.count),o=0,a=t/200;function s(){o<t?(o+=a,e.textContent=Math.ceil(o),requestAnimationFrame(s)):e.textContent=t+"+"}s()});var h=document.getElementById("darkModeToggle"),V=document.getElementById("themeTip");if(h){let e=localStorage.getItem("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e==="true"||e===null&&t)&&document.body.classList.add("dark-mode"),h.setAttribute("aria-pressed",document.body.classList.contains("dark-mode")?"true":"false"),h.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let o=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",o),h.setAttribute("aria-pressed",o?"true":"false")})}var p=document.querySelector(".header"),y=document.getElementById("backToTop"),T=document.getElementById("scrollProgress");y&&(window.addEventListener("scroll",()=>{if(window.scrollY>300?y.classList.add("show"):y.classList.remove("show"),p&&(window.scrollY>50?p.classList.add("scrolled"):p.classList.remove("scrolled")),T){let e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY/e*100;T.style.width=t+"%"}}),y.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));var Y=document.querySelector('[popovertarget="navMenu"]'),w=document.getElementById("navMenu");if(Y&&w&&w.showPopover){let t=function(){e.matches?w.showPopover():w.hidePopover()};W=t;let e=window.matchMedia("(min-width: 768px)");t(),e.addEventListener("change",t)}var W,C=document.querySelectorAll("section[id]"),I=document.querySelectorAll("#navMenu a");if(C.length&&I.length){let e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&I.forEach(a=>{let s=a.getAttribute("href").substring(1);a.classList.toggle("active",s===o.target.id)})})},{threshold:.6});C.forEach(t=>e.observe(t))}var j=x,P=document.querySelectorAll(".reveal");if(j)P.forEach(e=>e.classList.add("visible"));else{let e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.classList.add("visible"),e.unobserve(o.target))})},{threshold:.2});P.forEach(t=>e.observe(t))}var m=document.querySelector(".contact-form form"),i=document.getElementById("formStatus");m&&m.addEventListener("submit",async e=>{e.preventDefault();let t=m.elements.name.value.trim(),o=m.elements.email.value.trim(),a=m.elements.phone.value.trim(),s=m.elements.message.value.trim();if(!t||!o||!s){i&&(i.textContent="Please complete all required fields.",setTimeout(()=>i.textContent="",5e3));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){i&&(i.textContent="Please enter a valid email address.",setTimeout(()=>i.textContent="",5e3));return}try{let n=await fetch(m.action,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:o,phone:a,message:s})});i&&(i.textContent=n.ok?"Thank you for contacting ApexBuild!":"Submission failed. Please try again.",setTimeout(()=>i.textContent="",5e3))}catch{i&&(i.textContent="Submission failed. Please try again.",setTimeout(()=>i.textContent="",5e3))}m.reset()});var E=document.getElementById("cookieConsent"),A=document.getElementById("acceptCookies");E&&A&&(localStorage.getItem("cookies-accepted")||E.showModal(),A.addEventListener("click",()=>{localStorage.setItem("cookies-accepted","true"),E.close()}));var q=document.getElementById("currentYear");q&&(q.textContent=new Date().getFullYear());var f=document.getElementById("pointerRing");if(f&&window.matchMedia("(pointer: fine)").matches){window.addEventListener("pointermove",t=>{f.style.setProperty("--x",`${t.clientX}px`),f.style.setProperty("--y",`${t.clientY}px`)});let e=()=>{f.classList.add("active"),clearTimeout(f._scaleTimeout),f._scaleTimeout=setTimeout(()=>{f.classList.remove("active")},150)};window.addEventListener("pointerdown",e),window.addEventListener("dragstart",e)}"HTMLDialogElement"in window||document.querySelectorAll("dialog").forEach(e=>{dialogPolyfill.registerDialog(e)});if("PerformanceObserver"in window){let e="/perf";new PerformanceObserver(o=>{for(let a of o.getEntries())fetch(e,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,value:a.startTime})})}).observe({type:"largest-contentful-paint",buffered:!0})}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(e=>{function t(){confirm("A new version is available. Reload now?")&&window.location.reload()}e.waiting&&t(),e.addEventListener("updatefound",()=>{let o=e.installing;o&&o.addEventListener("statechange",()=>{o.state==="installed"&&e.waiting&&t()})})})});J();})();
