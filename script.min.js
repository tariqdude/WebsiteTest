(()=>{var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var J=O(()=>{var h=document.querySelector(".case-carousel");if(h){let n=function(m){if(m===s)return;let d=()=>{e[s].classList.remove("active"),r[s]?.classList.remove("active"),s=(m+e.length)%e.length,e[s].classList.add("active"),r[s]?.classList.add("active")};document.startViewTransition?document.startViewTransition(d):d()};j=n;let e=h.querySelectorAll(".case-slide"),t=h.querySelector(".carousel-prev"),o=h.querySelector(".carousel-next"),a=h.querySelector(".carousel-dots"),s=0,r=Array.from(e,(m,d)=>{let l=document.createElement("button");return l.className="carousel-dot",l.type="button",l.setAttribute("aria-label",`Go to slide ${d+1}`),l.addEventListener("click",()=>n(d)),a?.appendChild(l),l});t?.addEventListener("click",()=>n(s-1)),o?.addEventListener("click",()=>n(s+1)),h.addEventListener("keydown",m=>{m.key==="ArrowLeft"&&t?.click(),m.key==="ArrowRight"&&o?.click()}),r[0]?.classList.add("active")}var j,g=window.matchMedia("(prefers-reduced-motion: reduce)").matches;g&&document.documentElement.classList.add("reduce-motion");var i=document.getElementById("particleCanvas");if(i&&i.getContext&&!g){let s=function(){t=i.offsetWidth,o=i.offsetHeight,i.width=t,i.height=o,a.forEach(n=>{n.x=Math.random()*t,n.y=Math.random()*o,n.vx=(Math.random()-.5)*.5,n.vy=(Math.random()-.5)*.5})},r=function(){e.clearRect(0,0,t,o),a.forEach((n,m)=>{n.x+=n.vx,n.y+=n.vy,(n.x<0||n.x>t)&&(n.vx*=-1),(n.y<0||n.y>o)&&(n.vy*=-1),e.fillStyle="rgba(31,224,177,0.8)",e.beginPath(),e.arc(n.x,n.y,1.5,0,Math.PI*2),e.fill();for(let d=m+1;d<a.length;d++){let l=a[d],P=n.x-l.x,B=n.y-l.y,E=Math.hypot(P,B);E<80&&(e.strokeStyle=`rgba(31,224,177,${1-E/80})`,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(l.x,l.y),e.stroke())}}),requestAnimationFrame(r)};D=s,F=r;let e=i.getContext("2d"),t,o,a=Array.from({length:80},()=>({x:0,y:0,vx:0,vy:0}));window.addEventListener("resize",s),s(),requestAnimationFrame(r)}else i&&(i.width=i.offsetWidth,i.height=i.offsetHeight);var D,F,f=document.getElementById("typedHero");if(f&&!g){let s=function(){let r=e[t]||"";if(a)f.textContent=r.slice(0,o-1),o--,o===0&&(a=!1,t=(t+1)%e.length);else if(f.textContent=r.slice(0,o+1),o++,o===r.length)return a=!0,setTimeout(s,2e3);setTimeout(s,a?50:100)};W=s;let e=JSON.parse(f.dataset.texts||"[]"),t=0,o=0,a=!1;s()}else if(f){let e=JSON.parse(f.dataset.texts||"[]");f.textContent=e[0]||""}var W,R=new URLSearchParams(window.location.search),b=R.get("variant");b&&localStorage.setItem("apex-variant",b);var k=localStorage.getItem("apex-variant");k&&(document.body.dataset.variant=k);var L=document.querySelectorAll(".stat-number");g?L.forEach(e=>{let t=parseInt(e.dataset.count);e.textContent=t+"+"}):L.forEach(e=>{let t=parseInt(e.dataset.count),o=0,a=t/200;function s(){o<t?(o+=a,e.textContent=Math.ceil(o),requestAnimationFrame(s)):e.textContent=t+"+"}s()});var v=document.getElementById("darkModeToggle"),V=document.getElementById("themeTip");if(v){let e=localStorage.getItem("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e==="true"||e===null&&t)&&document.body.classList.add("dark-mode"),v.setAttribute("aria-pressed",document.body.classList.contains("dark-mode")?"true":"false"),v.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let o=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",o),v.setAttribute("aria-pressed",o?"true":"false")})}var p=document.querySelector(".header"),y=document.getElementById("backToTop"),S=document.getElementById("scrollProgress");y&&(window.addEventListener("scroll",()=>{if(window.scrollY>300?y.classList.add("show"):y.classList.remove("show"),p&&(window.scrollY>50?p.classList.add("scrolled"):p.classList.remove("scrolled")),S){let e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY/e*100;S.style.width=t+"%"}}),y.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));var H=document.querySelector('[popovertarget="navMenu"]'),w=document.getElementById("navMenu");if(H&&w&&w.showPopover){let t=function(){e.matches?w.showPopover():w.hidePopover()};$=t;let e=window.matchMedia("(min-width: 768px)");t(),e.addEventListener("change",t)}var $,C=document.querySelectorAll("section[id]"),T=document.querySelectorAll("#navMenu a");if(C.length&&T.length){let e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&T.forEach(a=>{let s=a.getAttribute("href").substring(1);a.classList.toggle("active",s===o.target.id)})})},{threshold:.6});C.forEach(t=>e.observe(t))}var Y=g,I=document.querySelectorAll(".reveal");if(Y)I.forEach(e=>e.classList.add("visible"));else{let e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(o.target.classList.add("visible"),e.unobserve(o.target))})},{threshold:.2});I.forEach(t=>e.observe(t))}var u=document.querySelector(".contact-form form"),c=document.getElementById("formStatus");u&&u.addEventListener("submit",async e=>{e.preventDefault();let t=u.elements.name.value.trim(),o=u.elements.email.value.trim(),a=u.elements.phone.value.trim(),s=u.elements.message.value.trim();if(!t||!o||!s){c&&(c.textContent="Please complete all required fields.",setTimeout(()=>c.textContent="",5e3));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){c&&(c.textContent="Please enter a valid email address.",setTimeout(()=>c.textContent="",5e3));return}try{let n=await fetch(u.action,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:o,phone:a,message:s})});c&&(c.textContent=n.ok?"Thank you for contacting ApexBuild!":"Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}catch{c&&(c.textContent="Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}u.reset()});var x=document.getElementById("cookieConsent"),A=document.getElementById("acceptCookies");x&&A&&(localStorage.getItem("cookies-accepted")||x.showModal(),A.addEventListener("click",()=>{localStorage.setItem("cookies-accepted","true"),x.close()}));var q=document.getElementById("currentYear");q&&(q.textContent=new Date().getFullYear());var M=document.getElementById("pointerRing");M&&window.matchMedia("(pointer: fine)").matches&&window.addEventListener("pointermove",e=>{M.style.transform=`translate(${e.clientX}px, ${e.clientY}px)`});"HTMLDialogElement"in window||document.querySelectorAll("dialog").forEach(e=>{dialogPolyfill.registerDialog(e)});if("PerformanceObserver"in window){let e="/perf";new PerformanceObserver(o=>{for(let a of o.getEntries())fetch(e,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,value:a.startTime})})}).observe({type:"largest-contentful-paint",buffered:!0})}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(e=>{function t(){confirm("A new version is available. Reload now?")&&window.location.reload()}e.waiting&&t(),e.addEventListener("updatefound",()=>{let o=e.installing;o&&o.addEventListener("statechange",()=>{o.state==="installed"&&e.waiting&&t()})})})});J();})();
