(()=>{var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var J=O(()=>{var f=document.querySelector(".case-carousel");if(f){let o=function(i){if(i===s)return;let d=()=>{e[s].classList.remove("active"),a[s]?.classList.remove("active"),s=(i+e.length)%e.length,e[s].classList.add("active"),a[s]?.classList.add("active")};document.startViewTransition?document.startViewTransition(d):d()};D=o;let e=f.querySelectorAll(".case-slide"),t=f.querySelector(".carousel-prev"),n=f.querySelector(".carousel-next"),r=f.querySelector(".carousel-dots"),s=0,a=Array.from(e,(i,d)=>{let l=document.createElement("button");return l.className="carousel-dot",l.type="button",l.setAttribute("aria-label",`Go to slide ${d+1}`),l.addEventListener("click",()=>o(d)),r?.appendChild(l),l});t?.addEventListener("click",()=>o(s-1)),n?.addEventListener("click",()=>o(s+1)),f.addEventListener("keydown",i=>{i.key==="ArrowLeft"&&t?.click(),i.key==="ArrowRight"&&n?.click()}),a[0]?.classList.add("active")}var D,E=window.matchMedia("(prefers-reduced-motion: reduce)").matches;E&&document.documentElement.classList.add("reduce-motion");var u=document.getElementById("particleCanvas");if(u&&u.getContext){let s=function(){t=u.offsetWidth,n=u.offsetHeight,u.width=t,u.height=n,r.forEach(o=>{o.x=Math.random()*t,o.y=Math.random()*n,o.vx=(Math.random()-.5)*.5,o.vy=(Math.random()-.5)*.5})},a=function(){e.clearRect(0,0,t,n),r.forEach((o,i)=>{o.x+=o.vx,o.y+=o.vy,(o.x<0||o.x>t)&&(o.vx*=-1),(o.y<0||o.y>n)&&(o.vy*=-1),e.fillStyle="rgba(31,224,177,0.8)",e.beginPath(),e.arc(o.x,o.y,1.5,0,Math.PI*2),e.fill();for(let d=i+1;d<r.length;d++){let l=r[d],M=o.x-l.x,B=o.y-l.y,x=Math.hypot(M,B);x<80&&(e.strokeStyle=`rgba(31,224,177,${1-x/80})`,e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(l.x,l.y),e.stroke())}}),requestAnimationFrame(a)};F=s,H=a;let e=u.getContext("2d"),t,n,r=Array.from({length:80},()=>({x:0,y:0,vx:0,vy:0}));window.addEventListener("resize",s),s(),requestAnimationFrame(a)}var F,H,h=document.getElementById("typedHero");if(h){let t=function(n){let r=0,s=0,a=!1;function o(){let i=n[r]||"";if(a)h.textContent=i.slice(0,s-1),s--,s===0&&(a=!1,r=(r+1)%n.length);else if(h.textContent=i.slice(0,s+1),s++,s===i.length)return a=!0,setTimeout(o,2e3);setTimeout(o,a?50:100)}o()};$=t;let e=JSON.parse(h.dataset.texts||"[]");fetch("phrases.json").then(n=>n.ok?n.json():Promise.reject()).then(n=>{Array.isArray(n)&&n.length?t(n):t(e)}).catch(()=>t(e))}var $,R=new URLSearchParams(window.location.search),b=R.get("variant");b&&localStorage.setItem("apex-variant",b);var k=localStorage.getItem("apex-variant");k&&(document.body.dataset.variant=k);var L=document.querySelectorAll(".stat-number");E?L.forEach(e=>{let t=parseInt(e.dataset.count);e.textContent=t+"+"}):L.forEach(e=>{let t=parseInt(e.dataset.count),n=0,r=t/200;function s(){n<t?(n+=r,e.textContent=Math.ceil(n),requestAnimationFrame(s)):e.textContent=t+"+"}s()});var g=document.getElementById("darkModeToggle"),V=document.getElementById("themeTip");if(g){let e=localStorage.getItem("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e==="true"||e===null&&t)&&document.body.classList.add("dark-mode"),g.setAttribute("aria-pressed",document.body.classList.contains("dark-mode")?"true":"false"),g.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let n=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",n),g.setAttribute("aria-pressed",n?"true":"false")})}var p=document.querySelector(".header"),v=document.getElementById("backToTop"),S=document.getElementById("scrollProgress");v&&(window.addEventListener("scroll",()=>{if(window.scrollY>300?v.classList.add("show"):v.classList.remove("show"),p&&(window.scrollY>50?p.classList.add("scrolled"):p.classList.remove("scrolled")),S){let e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY/e*100;S.style.width=t+"%"}}),v.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));var j=document.querySelector('[popovertarget="navMenu"]'),y=document.getElementById("navMenu");if(j&&y&&y.showPopover){let t=function(){e.matches?y.showPopover():y.hidePopover()};W=t;let e=window.matchMedia("(min-width: 768px)");t(),e.addEventListener("change",t)}var W,C=document.querySelectorAll("section[id]"),I=document.querySelectorAll("#navMenu a");if(C.length&&I.length){let e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&I.forEach(r=>{let s=r.getAttribute("href").substring(1);r.classList.toggle("active",s===n.target.id)})})},{threshold:.6});C.forEach(t=>e.observe(t))}var Y=E,T=document.querySelectorAll(".reveal");if(Y)T.forEach(e=>e.classList.add("visible"));else{let e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&(n.target.classList.add("visible"),e.unobserve(n.target))})},{threshold:.2});T.forEach(t=>e.observe(t))}var m=document.querySelector(".contact-form form"),c=document.getElementById("formStatus");m&&m.addEventListener("submit",async e=>{e.preventDefault();let t=m.elements.name.value.trim(),n=m.elements.email.value.trim(),r=m.elements.phone.value.trim(),s=m.elements.message.value.trim();if(!t||!n||!s){c&&(c.textContent="Please complete all required fields.",setTimeout(()=>c.textContent="",5e3));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){c&&(c.textContent="Please enter a valid email address.",setTimeout(()=>c.textContent="",5e3));return}try{let o=await fetch(m.action,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:n,phone:r,message:s})});c&&(c.textContent=o.ok?"Thank you for contacting ApexBuild!":"Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}catch{c&&(c.textContent="Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}m.reset()});var w=document.getElementById("cookieConsent"),A=document.getElementById("acceptCookies");w&&A&&(localStorage.getItem("cookies-accepted")||w.showModal(),A.addEventListener("click",()=>{localStorage.setItem("cookies-accepted","true"),w.close()}));var P=document.getElementById("currentYear");P&&(P.textContent=new Date().getFullYear());var q=document.getElementById("pointerRing");q&&window.matchMedia("(pointer: fine)").matches&&window.addEventListener("pointermove",e=>{q.style.transform=`translate(${e.clientX}px, ${e.clientY}px)`});"HTMLDialogElement"in window||document.querySelectorAll("dialog").forEach(e=>{dialogPolyfill.registerDialog(e)});if("PerformanceObserver"in window){let e="/perf";new PerformanceObserver(n=>{for(let r of n.getEntries())fetch(e,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,value:r.startTime})})}).observe({type:"largest-contentful-paint",buffered:!0})}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(e=>{function t(){confirm("A new version is available. Reload now?")&&window.location.reload()}e.waiting&&t(),e.addEventListener("updatefound",()=>{let n=e.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&e.waiting&&t()})})})});J();})();
