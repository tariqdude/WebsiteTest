(()=>{var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var V=O(()=>{var f=document.querySelector(".case-carousel");if(f){let o=function(i){if(i===s)return;let l=()=>{e[s].classList.remove("active"),r[s]?.classList.remove("active"),s=(i+e.length)%e.length,e[s].classList.add("active"),r[s]?.classList.add("active")};document.startViewTransition?document.startViewTransition(l):l()};N=o;let e=f.querySelectorAll(".case-slide"),t=f.querySelector(".carousel-prev"),n=f.querySelector(".carousel-next"),a=f.querySelector(".carousel-dots"),s=0,r=Array.from(e,(i,l)=>{let d=document.createElement("button");return d.className="carousel-dot",d.type="button",d.setAttribute("aria-label",`Go to slide ${l+1}`),d.addEventListener("click",()=>o(l)),a?.appendChild(d),d});t?.addEventListener("click",()=>o(s-1)),n?.addEventListener("click",()=>o(s+1)),f.addEventListener("keydown",i=>{i.key==="ArrowLeft"&&t?.click(),i.key==="ArrowRight"&&n?.click()}),r[0]?.classList.add("active")}var N,b=window.matchMedia("(prefers-reduced-motion: reduce)").matches;b&&document.documentElement.classList.add("reduce-motion");var u=document.getElementById("particleCanvas");if(u&&u.getContext){let s=function(){t=u.offsetWidth,n=u.offsetHeight,u.width=t,u.height=n,a.forEach(o=>{o.x=Math.random()*t,o.y=Math.random()*n,o.vx=(Math.random()-.5)*.5,o.vy=(Math.random()-.5)*.5})},r=function(){e.clearRect(0,0,t,n),a.forEach((o,i)=>{o.x+=o.vx,o.y+=o.vy,(o.x<0||o.x>t)&&(o.vx*=-1),(o.y<0||o.y>n)&&(o.vy*=-1),e.fillStyle="rgba(31,224,177,0.8)",e.beginPath(),e.arc(o.x,o.y,1.5,0,Math.PI*2),e.fill();for(let l=i+1;l<a.length;l++){let d=a[l],M=o.x-d.x,B=o.y-d.y,k=Math.hypot(M,B);k<80&&(e.strokeStyle=`rgba(31,224,177,${1-k/80})`,e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(d.x,d.y),e.stroke())}}),requestAnimationFrame(r)};F=s,Y=r;let e=u.getContext("2d"),t,n,a=Array.from({length:80},()=>({x:0,y:0,vx:0,vy:0}));window.addEventListener("resize",s),s(),requestAnimationFrame(r)}var F,Y,h=document.getElementById("typedHero");if(h){let t=function(n){let a=0,s=0,r=!1;function o(){let i=n[a]||"";if(r)h.textContent=i.slice(0,s-1),s--,s===0&&(r=!1,a=(a+1)%n.length);else if(h.textContent=i.slice(0,s+1),s++,s===i.length)return r=!0,setTimeout(o,2e3);setTimeout(o,r?50:100)}o()};$=t;let e=JSON.parse(h.dataset.texts||"[]");fetch("phrases.json").then(n=>n.ok?n.json():Promise.reject()).then(n=>{Array.isArray(n)&&n.length?t(n):t(e)}).catch(()=>t(e))}var $,R=new URLSearchParams(window.location.search),p=R.get("variant"),x=localStorage.getItem("apex-variant");p&&(x=p,localStorage.setItem("apex-variant",p));x&&(document.body.dataset.variant=x);var L=document.querySelectorAll(".stat-number");b?L.forEach(e=>{let t=parseInt(e.dataset.count);e.textContent=t+"+"}):L.forEach(e=>{let t=parseInt(e.dataset.count),n=0,a=t/200;function s(){n<t?(n+=a,e.textContent=Math.ceil(n),requestAnimationFrame(s)):e.textContent=t+"+"}s()});var g=document.getElementById("darkModeToggle"),J=document.getElementById("themeTip");if(g){let e=localStorage.getItem("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;(e==="true"||e===null&&t)&&document.body.classList.add("dark-mode"),g.setAttribute("aria-pressed",document.body.classList.contains("dark-mode")?"true":"false"),g.addEventListener("click",()=>{document.body.classList.toggle("dark-mode");let n=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",n),g.setAttribute("aria-pressed",n?"true":"false")})}var w=document.querySelector(".header"),v=document.getElementById("backToTop"),S=document.getElementById("scrollProgress");v&&(window.addEventListener("scroll",()=>{if(window.scrollY>300?v.classList.add("show"):v.classList.remove("show"),w&&(window.scrollY>50?w.classList.add("scrolled"):w.classList.remove("scrolled")),S){let e=document.documentElement.scrollHeight-window.innerHeight,t=window.scrollY/e*100;S.style.width=t+"%"}}),v.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));var j=document.querySelector('[popovertarget="navMenu"]'),y=document.getElementById("navMenu");if(j&&y&&y.showPopover){let t=function(){e.matches?y.showPopover():y.hidePopover()};H=t;let e=window.matchMedia("(min-width: 768px)");t(),e.addEventListener("change",t)}var H,C=document.querySelectorAll("section[id]"),I=document.querySelectorAll("#navMenu a");if(C.length&&I.length){let e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&I.forEach(a=>{let s=a.getAttribute("href").substring(1);a.classList.toggle("active",s===n.target.id)})})},{threshold:.6});C.forEach(t=>e.observe(t))}var D=b,T=document.querySelectorAll(".reveal");if(D)T.forEach(e=>{e.classList.add("visible"),Array.from(e.children).forEach(t=>t.classList.add("visible"))});else{let e=new IntersectionObserver(t=>{t.forEach(n=>{if(n.isIntersecting){let a=n.target,s=Array.from(a.children),r=0;s.forEach(o=>{let i=parseFloat(o.dataset.revealDelay||""),l=isNaN(i)?r:i;o.style.transitionDelay=`${l}s`,o.classList.add("visible"),isNaN(i)&&(r+=.1)}),a.classList.add("visible"),e.unobserve(a)}})},{threshold:.2});T.forEach(t=>e.observe(t))}var m=document.querySelector(".contact-form form"),c=document.getElementById("formStatus");m&&m.addEventListener("submit",async e=>{e.preventDefault();let t=m.elements.name.value.trim(),n=m.elements.email.value.trim(),a=m.elements.phone.value.trim(),s=m.elements.message.value.trim();if(!t||!n||!s){c&&(c.textContent="Please complete all required fields.",setTimeout(()=>c.textContent="",5e3));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){c&&(c.textContent="Please enter a valid email address.",setTimeout(()=>c.textContent="",5e3));return}try{let o=await fetch(m.action,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:n,phone:a,message:s})});c&&(c.textContent=o.ok?"Thank you for contacting ApexBuild!":"Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}catch{c&&(c.textContent="Submission failed. Please try again.",setTimeout(()=>c.textContent="",5e3))}m.reset()});var E=document.getElementById("cookieConsent"),A=document.getElementById("acceptCookies");E&&A&&(localStorage.getItem("cookies-accepted")||E.showModal(),A.addEventListener("click",()=>{localStorage.setItem("cookies-accepted","true"),E.close()}));var P=document.getElementById("currentYear");P&&(P.textContent=new Date().getFullYear());var q=document.getElementById("pointerRing");q&&window.matchMedia("(pointer: fine)").matches&&window.addEventListener("pointermove",e=>{q.style.transform=`translate(${e.clientX}px, ${e.clientY}px)`});"HTMLDialogElement"in window||document.querySelectorAll("dialog").forEach(e=>{dialogPolyfill.registerDialog(e)});if("PerformanceObserver"in window){let e="/perf";new PerformanceObserver(n=>{for(let a of n.getEntries())fetch(e,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,value:a.startTime})})}).observe({type:"largest-contentful-paint",buffered:!0})}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(e=>{function t(){confirm("A new version is available. Reload now?")&&window.location.reload()}e.waiting&&t(),e.addEventListener("updatefound",()=>{let n=e.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&e.waiting&&t()})})})});V();})();
