<!DOCTYPE html>
<html lang="en">
<head>
  <!-- =========================
       Meta & SEO
  ========================== -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Allied Construction | Chicago Design-Build Firm</title>
  <meta name="description" content="Allied Construction is Chicago’s award‑winning design‑build firm for commercial, industrial & high‑end residential projects. Quality, safety, and sustainability—built into every square foot." />
  <meta name="keywords" content="construction, design-build, Chicago, commercial, residential, LEED, sustainable, remodeling, industrial, contractor, builder, architecture, engineering" />
  <link rel="canonical" href="https://alliedconstruction.github.io/" />

  <!-- =========================
       Social & Structured Data
  ========================== -->
  <meta property="og:title" content="Allied Construction | Building Your Vision" />
  <meta property="og:description" content="From skyscrapers to smart homes, we engineer the future of Chicagoland construction." />
  <meta property="og:image" content="https://source.unsplash.com/featured/1200x630?construction,Chicago" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://alliedconstruction.github.io/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@alliedconstruction" />
  <meta name="twitter:title" content="Allied Construction | Building Your Vision" />
  <meta name="twitter:description" content="From skyscrapers to smart homes, we engineer the future of Chicagoland construction." />
  <meta name="twitter:image" content="https://source.unsplash.com/featured/1200x630?construction,Chicago" />
  <meta name="theme-color" content="#0A66C2" />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Allied Construction",
      "url": "https://alliedconstruction.github.io/",
      "logo": "/icon.png",
      "sameAs": [
        "https://twitter.com/alliedconstruction",
        "https://www.linkedin.com/company/alliedconstruction"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+1-312-555-1234",
        "contactType": "customer service",
        "areaServed": "US-IL"
      },
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Chicago",
        "addressRegion": "IL",
        "addressCountry": "USA"
      }
    }
  </script>

  <!-- =========================
       Icons, Fonts, Manifest
  ========================== -->
  <link rel="apple-touch-icon" href="/icon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="manifest" href="data:application/manifest+json;base64,ew0KICAibmFtZSI6ICJBbGxpZWQgQ29uc3RydWN0aW9uIiwNCiAgInNob3J0X25hbWUiOiAiQWxsaWVkIiwNCiAgImljb24iOiAiL2ljb24ucG5nIiwNCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2ZmZiIsDQogICJ0aGVtZV9jb2xvciI6ICIjMEE2NkMyIiwNCiAgInN0YXJ0X3VybCI6ICIuLyINCn0=">

  <!-- =========================
       Security
  ========================== -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com https://source.unsplash.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; script-src 'self' 'unsafe-inline'; img-src * data:; connect-src https://formspree.io https://source.unsplash.com; font-src https://fonts.gstatic.com https://cdnjs.cloudflare.com;"/>

  <!-- =========================
       Main Styles
  ========================== -->
  <style id="main-style">
    /* =========================
       CSS Variables & Theme
    ========================== */
    :root {
      --primary: #2563eb;
      --primary-dark: #1e40af;
      --accent: #fbbf24;
      --bg: linear-gradient(135deg, #f5f7fa 0%, #e0e7ef 100%);
      --surface: rgba(255,255,255,0.85);
      --surface-alt: rgba(245,247,250,0.85);
      --text: #1a2233;
      --text-light: #6b7280;
      --gray: #e5e7eb;
      --radius: 22px;
      --shadow: 0 8px 32px rgba(30,64,175,0.10), 0 1.5px 6px rgba(0,0,0,0.04);
      --font: 'Poppins',sans-serif;
      --transition: .3s cubic-bezier(.4,0,.2,1);
      --scroll-height: 4px;
      --max-width: 1240px;
      --glass-blur: blur(12px);
    }
    @media (prefers-color-scheme: dark) {
      :root:not(.light) {
        --bg: linear-gradient(135deg, #10131a 0%, #23262e 100%);
        --surface: rgba(24,28,35,0.85);
        --surface-alt: rgba(35,38,46,0.85);
        --text: #f1f3f9;
        --text-light: #b0b6c3;
        --gray: #23262e;
        --shadow: 0 12px 40px rgba(30,64,175,0.18), 0 2px 8px rgba(0,0,0,0.10);
      }
    }
    :root.dark {
      --bg: linear-gradient(135deg, #10131a 0%, #23262e 100%);
      --surface: rgba(24,28,35,0.85);
      --surface-alt: rgba(35,38,46,0.85);
      --text: #f1f3f9;
      --text-light: #b0b6c3;
      --gray: #23262e;
      --shadow: 0 12px 40px rgba(30,64,175,0.18), 0 2px 8px rgba(0,0,0,0.10);
    }

    /* =========================
       Base Reset & Typography
    ========================== */
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      font-size: 1.08rem;
      min-height: 100vh;
    }
    img { display: block; max-width: 100%; }
    h1, h2, h3, h4 {
      font-weight: 900;
      letter-spacing: -.5px;
      line-height: 1.13;
    }
    h1 { font-size: clamp(3.2rem, 7vw, 4.8rem); margin-bottom: 1.5rem; }
    h2 { font-size: clamp(2.2rem, 3.5vw, 2.9rem); margin-bottom: 1.3rem; color: var(--primary-dark);}
    h3 { font-size: 1.35rem; margin-bottom: .7rem; color: var(--primary);}
    p { color: var(--text-light); margin-bottom: 1.2rem; font-size: 1.13rem;}

    /* =========================
       Layout & Containers
    ========================== */
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 3.2rem 2rem;
    }
    @media (max-width: 600px) {
      .container { padding: 1.5rem .9rem; }
    }

    /* =========================
       Header & Navigation
    ========================== */
    header {
      position: sticky;
      top: 0; left: 0; right: 0;
      background: rgba(255,255,255,0.92);
      backdrop-filter: var(--glass-blur);
      border-bottom: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      z-index: 100;
      transition: background .25s, box-shadow .25s;
    }
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 80px;
    }
    .logo {
      font-weight: 900;
      font-size: 2rem;
      color: var(--primary);
      letter-spacing: -1.5px;
      text-shadow: 0 2px 12px rgba(37,99,235,0.08);
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    nav ul {
      display: flex;
      list-style: none;
      gap: 2.5rem;
      margin: 0;
    }
    nav a {
      font-weight: 600;
      text-decoration: none;
      color: var(--text);
      padding: .6rem 1.1rem;
      border-radius: 8px;
      transition: color var(--transition), border-color var(--transition), background var(--transition);
    }
    nav a:hover, nav a.active {
      color: #fff;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-bottom: 2px solid transparent;
      box-shadow: 0 2px 12px rgba(37,99,235,0.08);
    }
    .hamburger {
      display: none;
      font-size: 2rem;
      background: none;
      border: none;
      color: var(--primary);
      cursor: pointer;
      margin-left: 1.2rem;
      border-radius: 12px;
      transition: background var(--transition), color var(--transition);
    }
    .hamburger:hover {
      background: var(--primary);
      color: #fff;
    }
    #themeToggle {
      margin-left: 1rem;
      background: none;
      border: none;
      font-size: 1.7rem;
      color: var(--accent);
      cursor: pointer;
      border-radius: 12px;
      background: rgba(251,191,36,0.08);
      transition: background var(--transition), color var(--transition), transform var(--transition);
    }
    #themeToggle:hover {
      background: var(--accent);
      color: #fff;
      transform: rotate(15deg) scale(1.08);
    }
    @media (max-width: 900px) {
      nav ul {
        position: absolute;
        top: 72px; left: 0; right: 0;
        flex-direction: column;
        background: rgba(255,255,255,0.97);
        backdrop-filter: var(--glass-blur);
        border-radius: 0 0 18px 18px;
        max-height: 0;
        overflow: hidden;
        border-top: 1px solid var(--gray);
        box-shadow: 0 8px 32px rgba(0,0,0,.08);
        transition: max-height .35s;
      }
      nav ul.open { max-height: 420px; }
      .hamburger { display: block; }
    }

    /* =========================
       Hero Section
    ========================== */
    .hero {
      display: flex;
      align-items: center;
      min-height: 92vh;
      background: linear-gradient(120deg,rgba(37,99,235,0.22) 0%,rgba(251,191,36,0.13) 100%), url('https://source.unsplash.com/1600x900?chicago-skyline') center/cover no-repeat;
      position: relative;
      padding-top: 7rem;
      padding-bottom: 4rem;
      border-radius: 0 0 32px 32px;
      box-shadow: 0 8px 32px rgba(37,99,235,0.10);
    }
    .hero-overlay {
      background: linear-gradient(120deg,rgba(30,64,175,0.38) 0%,rgba(251,191,36,0.13) 100%);
      animation: heroGradient 8s ease-in-out infinite alternate;
      position: absolute;
      inset: 0;
      z-index: 0;
    }
    @keyframes heroGradient {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }
    .hero > .container {
      position: relative;
      z-index: 1;
      color: #fff;
      text-align: left;
      max-width: 700px;
      background: rgba(255,255,255,0.13);
      backdrop-filter: var(--glass-blur);
      border-radius: 22px;
      box-shadow: 0 4px 32px rgba(37,99,235,0.10);
      padding: 2.5rem 2rem;
    }
    .hero h1, .hero p { color: #fff; }
    .stats {
      display: flex;
      flex-wrap: wrap;
      gap: 3.2rem;
      margin-top: 3rem;
    }
    .stat {
      text-align: center;
      min-width: 140px;
      background: rgba(255,255,255,0.18);
      border: 1.5px solid var(--gray);
      box-shadow: 0 2px 16px rgba(37,99,235,0.07);
      border-radius: 18px;
      padding: 1.3rem 1.7rem;
    }
    .stat strong {
      display: block;
      font-size: 2.6rem;
      color: var(--accent);
      margin-bottom: .3rem;
    }
    @media (max-width: 900px) {
      .hero { flex-direction: column; padding-top: 5rem; }
      .stats { gap: 1.5rem; }
    }

    /* =========================
       Section Waves
    ========================== */
    .wave {
      display: block;
      width: 100%;
      height: 80px;
      line-height: 0;
      margin-bottom: -2px;
    }
    .wave svg { width: 100%; height: 100%; fill: var(--surface); }

    /* =========================
       Cards (Services, Testimonials, Blog)
    ========================== */
    .cards, .steps, .blog-list {
      display: grid;
      gap: 2.5rem;
    }
    .cards { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); margin-top: 3rem; }
    .card {
      background: var(--surface);
      border-radius: 22px;
      border: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      padding: 2.7rem 2.1rem;
      text-align: center;
      transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
      position: relative;
      backdrop-filter: var(--glass-blur);
    }
    .card:hover {
      transform: translateY(-12px) scale(1.035);
      box-shadow: 0 16px 48px rgba(37,99,235,0.13);
      border-color: var(--primary);
    }
    .card i {
      font-size: 2.5rem;
      margin-bottom: 1.1rem;
      color: var(--primary-dark);
      filter: drop-shadow(0 2px 8px rgba(37,99,235,0.10));
    }

    /* =========================
       Process Steps
    ========================== */
    .steps { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); margin-top: 3rem; }
    .step {
      background: var(--surface-alt);
      border-radius: 18px;
      border: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      min-height: 200px;
      padding: 2.3rem 1.8rem;
      backdrop-filter: var(--glass-blur);
    }
    .step::before {
      counter-increment: step;
      content: counter(step);
      position: absolute;
      top: -18px; left: -18px;
      width: 48px; height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 1.5rem;
      box-shadow: 0 2px 12px rgba(37,99,235,0.10);
    }
    .step h3 { margin-bottom: .7rem; }

    /* =========================
       Gallery
    ========================== */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.7rem;
      margin-top: 3rem;
    }
    .gallery img {
      border-radius: 18px;
      border: 1.5px solid var(--gray);
      box-shadow: 0 2px 16px rgba(37,99,235,0.10);
      transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
    }
    .gallery img:hover {
      border-color: var(--primary);
      box-shadow: 0 8px 32px rgba(37,99,235,0.13);
    }

    /* =========================
       Awards
    ========================== */
    .awards {
      display: flex;
      flex-wrap: wrap;
      gap: 2.7rem;
      align-items: center;
      justify-content: center;
      margin-top: 3rem;
      filter: grayscale(0.7);
      opacity: .92;
    }
    .awards img { max-height: 64px; border-radius: 10px; box-shadow: 0 2px 8px rgba(37,99,235,0.08); }

    /* =========================
       Testimonials Carousel
    ========================== */
    .testimonials { background: var(--surface-alt); border-radius: 22px; }
    .carousel {
      display: flex;
      gap: 2rem;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding-bottom: 1rem;
      -webkit-overflow-scrolling: touch;
    }
    .carousel::-webkit-scrollbar { display: none; }
    .carousel .card {
      min-width: 340px;
      scroll-snap-align: start;
      border-radius: 18px;
      border: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      padding: 2.3rem 1.7rem;
      background: var(--surface);
      backdrop-filter: var(--glass-blur);
    }
    blockquote {
      font-style: italic;
      margin-bottom: 1rem;
      position: relative;
      padding-left: 1.5rem;
      color: var(--primary-dark);
    }
    blockquote::before {
      content: "\f10d";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      position: absolute;
      left: 0; top: 0;
      color: var(--accent);
      font-size: 1.3rem;
    }
    .carousel-indicators {
      display: flex;
      justify-content: center;
      gap: .7rem;
      margin-top: .7rem;
    }
    .carousel-indicators button {
      width: 12px; height: 12px;
      border-radius: 50%;
      border: 2px solid var(--primary);
      background: #fff;
    }
    .carousel-indicators button.active { background: var(--primary); }

    /* =========================
       FAQ Section
    ========================== */
    .faq details {
      border-radius: 18px;
      border: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      background: var(--surface);
      margin-bottom: 1.5rem;
      padding: 1.4rem 1.7rem;
      backdrop-filter: var(--glass-blur);
    }
    .faq summary {
      cursor: pointer;
      font-weight: 700;
      list-style: none;
      position: relative;
      padding-right: 1.5rem;
      color: var(--primary-dark);
      font-size: 1.13rem;
    }
    .faq summary::after {
      content: "\f078";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      position: absolute;
      right: 0;
      transition: transform var(--transition);
      color: var(--primary);
    }
    .faq details[open] summary::after { transform: rotate(180deg); }

    /* =========================
       Blog Section
    ========================== */
    .blog { background: var(--surface-alt); padding: 3rem 0; border-radius: 22px; }
    .blog-list { grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 2.5rem; margin-top: 3rem; }
    .blog-card {
      border-radius: 18px;
      border: 1.5px solid var(--gray);
      box-shadow: var(--shadow);
      padding: 2.1rem 1.7rem;
      background: var(--surface);
      backdrop-filter: var(--glass-blur);
      transition: box-shadow var(--transition), transform var(--transition), border-color var(--transition);
    }
    .blog-card:hover {
      border-color: var(--primary);
      box-shadow: 0 8px 32px rgba(37,99,235,0.13);
      transform: translateY(-6px) scale(1.02);
    }
    .blog-card h3 { margin-bottom: .7rem; color: var(--primary-dark);}
    .blog-card time { color: var(--primary); font-size: 1.05rem; }

    /* =========================
       Contact Section & Form
    ========================== */
    .call {
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg,var(--primary)0%,var(--primary-dark)100%);
      color: #fff;
      text-align: center;
      border-radius: 22px;
      padding: 4rem 1.5rem 3rem 1.5rem;
      margin-top: 3rem;
      box-shadow: 0 12px 48px rgba(37,99,235,0.13);
    }
    .call::before {
      content: "";
      position: absolute;
      inset: 0;
      background: hsla(0,0%,100%,.10);
      transform: skewY(-5deg);
    }
    .call h2 { font-size: clamp(2.2rem,3vw,2.7rem); margin-bottom: 1.3rem; color: #fff; }
    #contactForm {
      max-width: 600px;
      margin: 2rem auto 0 auto;
      display: grid;
      gap: 1.2rem;
      position: relative;
      z-index: 1;
      border-radius: 18px;
      background: rgba(255,255,255,0.10);
      box-shadow: 0 2px 12px rgba(37,99,235,0.08);
      padding: 2rem 1.2rem;
    }
    #contactForm input, #contactForm textarea {
      padding: 1rem;
      border: 1.5px solid var(--gray);
      border-radius: 12px;
      font-size: 1.13rem;
      background: var(--surface-alt);
      color: var(--text);
      transition: border-color .2s, box-shadow .2s;
    }
    #contactForm input:focus, #contactForm textarea:focus {
      outline: 2px solid var(--accent);
      border-color: var(--primary);
      box-shadow: 0 2px 8px rgba(251,191,36,0.13);
    }
    .form-group { position: relative; }
    .form-group.error input,
    .form-group.error textarea { border: 2px solid #c00; }
    .form-group.error .error-tooltip { display: block; }
    .error-tooltip {
      color: #fff;
      background: #c00;
      border-radius: 6px;
      padding: .3em .7em;
      font-size: .95em;
      position: absolute;
      z-index: 10;
      left: 105%;
      top: 50%;
      transform: translateY(-50%);
      white-space: nowrap;
      box-shadow: 0 2px 8px rgba(0,0,0,.12);
      display: none;
    }
    .honeypot { display: none; }
    .btn {
      display: inline-block;
      background: linear-gradient(90deg, var(--accent), var(--primary));
      color: #fff;
      padding: 1rem 2.2rem;
      border-radius: 14px;
      font-weight: 700;
      font-size: 1.15rem;
      text-decoration: none;
      border: none;
      box-shadow: 0 2px 12px rgba(251,191,36,0.10);
      transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
    }
    .btn:hover {
      background: linear-gradient(90deg, var(--primary), var(--accent));
      box-shadow: 0 6px 24px rgba(251,191,36,0.18);
      transform: translateY(-2px) scale(1.03);
    }
    .map-embed {
      border-radius: 18px;
      margin-top: 2.7rem;
      box-shadow: 0 2px 16px rgba(37,99,235,0.10);
    }

    /* =========================
       Sticky Mobile CTA
    ========================== */
    #stickyCTA {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--primary);
      color: #fff;
      display: none;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      z-index: 1500;
      font-size: 1.13rem;
      border-radius: 18px 18px 0 0;
      box-shadow: 0 -4px 24px rgba(37,99,235,0.10);
    }
    #stickyCTA a {
      color: #fff;
      font-weight: 700;
      text-decoration: underline;
      font-size: 1.1rem;
      border-radius: 8px;
      background: var(--accent);
      padding: .7rem 1.5rem;
      transition: background var(--transition), color var(--transition);
    }
    #stickyCTA a:hover {
      background: var(--primary-dark);
      color: #fff;
    }

    /* =========================
       Back-to-top Button
    ========================== */
    #topBtn {
      position: fixed;
      bottom: 32px; right: 32px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 60px; height: 60px;
      font-size: 1.5rem;
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 8px 32px rgba(37,99,235,0.13);
      transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
      z-index: 2000;
    }
    #topBtn:hover {
      background: linear-gradient(135deg, var(--accent), var(--primary-dark));
      transform: scale(1.08);
    }
    #topBtn.show { display: flex; }

    /* =========================
       Reveal Animation
    ========================== */
    [data-animate] { opacity: 0; transform: translateY(40px); transition: opacity .6s, transform .6s; }
    [data-animate].show { opacity: 1; transform: none; }

    /* =========================
       Accessibility & Utilities
    ========================== */
    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px; height: 1px;
      overflow: hidden;
      z-index: 3000;
      background: var(--primary);
      color: #fff;
      padding: .75rem 1.5rem;
      border-radius: var(--radius);
      font-weight: 700;
      transition: left .2s;
    }
    .skip-link:focus {
      left: 16px; top: 16px;
      width: auto; height: auto;
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    a:focus, button:focus, input:focus, textarea:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .visually-hidden {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden;
      clip: rect(1px, 1px, 1px, 1px);
      white-space: nowrap;
    }

    /* =========================
       Loader Overlay
    ========================== */
    #pageloader {
      position: fixed; inset: 0;
      background: var(--surface);
      z-index: 3000;
      display: flex; align-items: center; justify-content: center;
      transition: opacity .4s;
    }
    #pageloader.hide { opacity: 0; pointer-events: none; }
    #pageloader .spinner {
      border: 4px solid var(--gray);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      width: 48px; height: 48px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* =========================
       Cookie Consent Banner
    ========================== */
    #cookieConsent {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--surface);
      color: var(--text);
      box-shadow: 0 -2px 16px rgba(0,0,0,.08);
      padding: 1.2rem 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      z-index: 4000;
      font-size: 1rem;
      transition: transform .4s;
    }
    #cookieConsent.hide { transform: translateY(100%); }
    #cookieConsent button {
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: var(--radius);
      padding: .6rem 1.4rem;
      font-weight: 700;
      cursor: pointer;
      transition: background var(--transition);
    }
    #cookieConsent button:hover { background: var(--primary-dark); }

    /* =========================
       Social Feed Placeholder
    ========================== */
    .social-feed { margin: 2.5rem 0; text-align: center; }
    .social-feed .feed-placeholder {
      background: var(--gray);
      border-radius: var(--radius);
      padding: 2rem;
      color: var(--primary-dark);
      font-weight: 700;
      font-size: 1.1rem;
      margin: 0 auto;
      max-width: 400px;
    }

    /* =========================
       Chat Widget Placeholder
    ========================== */
    #chatWidget {
      position: fixed;
      bottom: 100px;
      right: 32px;
      z-index: 3000;
      background: linear-gradient(135deg, var(--surface), var(--surface-alt));
      border-radius: 22px 22px 0 22px;
      box-shadow: 0 8px 32px rgba(37,99,235,0.18);
      padding: 1.1rem 1.4rem;
      min-width: 220px;
      display: flex;
      align-items: center;
      gap: .7rem;
      font-size: 1.1rem;
      color: var(--primary-dark);
      cursor: pointer;
      transition: box-shadow .2s;
      border: 1.5px solid var(--gray);
    }
    #chatWidget:hover {
      box-shadow: 0 16px 48px rgba(37,99,235,0.22);
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: #fff;
    }
    @keyframes floatChat {
      0% { transform: translateY(0);}
      100% { transform: translateY(-10px);}
    }
    @media (max-width: 600px) {
      #chatWidget { right: 12px; bottom: 80px; min-width: 160px; font-size: 1rem; }
    }

    /* =========================
       Footer
    ========================== */
    footer {
      margin-top: 3rem;
      padding: 2.2rem 0 2.2rem 0;
      background: linear-gradient(90deg, var(--primary-dark) 0%, var(--primary) 100%);
      color: #fff;
      text-align: center;
      font-size: 1.13rem;
      border-radius: 22px 22px 0 0;
      box-shadow: 0 -2px 16px rgba(37,99,235,0.10);
      letter-spacing: 0.02em;
    }
    footer a {
      color: var(--accent);
      text-decoration: underline;
      font-weight: 700;
      transition: color var(--transition);
    }
    footer a:hover {
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- =========================
       Loader & Progress
  ========================== -->
  <div id="pageloader" aria-label="Loading page" role="status"><span class="spinner"></span></div>
  <span id="progress" role="presentation"></span>
  <a href="#home" class="skip-link">Skip to content</a>

  <!-- =========================
       Cookie Consent
  ========================== -->
  <div id="cookieConsent" class="hide" role="alert" aria-live="polite">
    <span>
      We use cookies to improve your experience. By using our site, you agree to our
      <a href="#" style="color:var(--primary);text-decoration:underline;">privacy policy</a>.
    </span>
    <button id="acceptCookies">Accept</button>
  </div>

  <!-- =========================
       Header & Navigation
  ========================== -->
  <header id="header" role="banner">
    <div class="container">
      <nav aria-label="Main navigation" role="navigation">
        <div class="logo" tabindex="0">Allied Construction</div>
        <ul id="menu">
          <li><a href="#about">About</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#process">Process</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#awards">Awards</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="nav-actions">
          <button id="themeToggle" aria-label="Toggle light/dark mode"><i class="fa-solid fa-sun"></i></button>
          <button class="hamburger" id="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="menu"><i class="fa-solid fa-bars"></i></button>
        </div>
      </nav>
    </div>
  </header>

  <!-- =========================
       Main Content
  ========================== -->
  <main id="home" tabindex="-1">
    <!-- Hero -->
    <section class="hero" data-animate aria-label="Hero section">
      <div class="hero-overlay" aria-hidden="true"></div>
      <div class="container">
        <h1><span aria-live="polite">Building Your Vision.<br>Engineering Your Future.</span></h1>
        <p>From concept to completion, we deliver award-winning commercial and residential construction solutions across Chicagoland.</p>
        <a href="#contact" class="btn" aria-label="Request a quote, go to contact section">Request a Quote</a>
        <div class="stats" aria-label="Company statistics">
          <div class="stat"><strong id="years" aria-live="polite">30+</strong>Years Experience</div>
          <div class="stat"><strong id="projects" aria-live="polite">150</strong>Projects Delivered</div>
          <div class="stat"><strong id="safety" aria-live="polite">0</strong>Safety Violations</div>
        </div>
      </div>
    </section>
    <span class="wave"><svg viewBox="0 0 1440 80"><path d="M0,32L80,48C160,64,320,96,480,106.7C640,117,800,107,960,74.7C1120,43,1280,21,1360,10.7L1440,0V80H0Z"></path></svg></span>
    <!-- About -->
    <section id="about" data-animate>
      <div class="container">
        <h2>About Us</h2>
        <p>Established in 1995, Allied Construction has earned a reputation for precision craftsmanship, transparent project management, and relentless safety standards. Our union-trained teams hold <strong>LEED</strong>, <strong>OSHA 30</strong>, and <strong>BPI</strong> certifications, turning blueprints into benchmarks.</p>
      </div>
    </section>
    <!-- Services -->
    <section id="services" data-animate>
      <div class="container">
        <h2>Our Services</h2>
        <div class="cards">
          <div class="card"><i class="fa-solid fa-city"></i><h3>Commercial Build-Outs</h3><p>Turnkey solutions for offices, retail, and industrial spaces—from permits to punch-list.</p></div>
          <div class="card"><i class="fa-solid fa-house"></i><h3>Residential Remodeling</h3><p>High-end kitchens, bathrooms, and whole-home renovations that add lasting value.</p></div>
          <div class="card"><i class="fa-solid fa-screwdriver-wrench"></i><h3>HVAC & Mechanical</h3><p>Energy-efficient systems designed, fabricated, and installed by certified experts.</p></div>
          <div class="card"><i class="fa-solid fa-solar-panel"></i><h3>Sustainable Retrofits</h3><p>Solar integration, green roofs, and LEED consulting for eco-forward clients.</p></div>
        </div>
      </div>
    </section>
    <span class="wave"><svg viewBox="0 0 1440 80"><path d="M0,64L60,58.7C120,53,240,43,360,37.3C480,32,600,32,720,37.3C840,43,960,53,1080,69.3C1200,85,1320,107,1380,117.3L1440,128V0H0Z"></path></svg></span>
    <!-- Process -->
    <section id="process" class="process" data-animate>
      <div class="container">
        <h2>Our 4‑Step Process</h2>
        <div class="steps">
          <div class="step"><i class="fa-solid fa-lightbulb"></i><h3>Concept</h3><p>We listen to your vision and develop a clear project roadmap.</p></div>
          <div class="step"><i class="fa-solid fa-pencil-ruler"></i><h3>Design</h3><p>Our architects craft functional, aesthetic blueprints with value‑engineering.</p></div>
          <div class="step"><i class="fa-solid fa-hard-hat"></i><h3>Build</h3><p>Certified crews transform plans into reality with rigorous quality control.</p></div>
          <div class="step"><i class="fa-solid fa-handshake"></i><h3>Handover</h3><p>You receive keys, warranties, and a post‑occupancy sustainability report.</p></div>
        </div>
      </div>
    </section>
    <!-- Projects -->
    <section id="projects" data-animate aria-label="Featured Projects">
      <div class="container">
        <h2>Featured Projects</h2>
        <div class="gallery" role="list">
          <img src="https://source.unsplash.com/random/600x400?industrial-construction" alt="Industrial build project in Chicago, steel structure with cranes" loading="lazy" decoding="async" tabindex="0" role="listitem" />
          <img src="https://source.unsplash.com/random/600x400?modern-office" alt="Modern office construction project, glass facade" loading="lazy" decoding="async" tabindex="0" role="listitem" />
          <img src="https://source.unsplash.com/random/600x400?residential-renovation" alt="Residential renovation project, kitchen interior" loading="lazy" decoding="async" tabindex="0" role="listitem" />
          <img src="https://source.unsplash.com/random/600x400?solar-panel-roof" alt="Sustainable retrofit with solar panels on roof" loading="lazy" decoding="async" tabindex="0" role="listitem" />
        </div>
      </div>
    </section>
    <!-- Awards -->
    <section id="awards" data-animate>
      <div class="container">
        <h2>Awards & Certifications</h2>
        <div class="awards">
          <img src="https://dummyimage.com/120x60/eeeeee/000&text=LEED+Gold" alt="LEED Gold" />
          <img src="https://dummyimage.com/120x60/eeeeee/000&text=ABC+Excellence" alt="ABC Excellence in Construction" />
          <img src="https://dummyimage.com/120x60/eeeeee/000&text=Safety+Star" alt="Safety Star" />
          <img src="https://dummyimage.com/120x60/eeeeee/000&text=Energy+Star" alt="Energy Star Partner" />
        </div>
      </div>
    </section>
    <!-- Testimonials -->
    <section id="testimonials" class="testimonials" data-animate aria-label="Client Testimonials">
      <div class="container">
        <h2>What Our Clients Say</h2>
        <div class="carousel" tabindex="0" aria-live="polite">
          <div class="card"><blockquote>Allied transformed our outdated warehouse into a cutting-edge HQ—on schedule and under budget.</blockquote><strong>— J. Martinez, CEO, TechEdge</strong></div>
          <div class="card"><blockquote>Professional, transparent, and meticulous. We couldn't be happier with our new home addition.</blockquote><strong>— S. Patel, Homeowner</strong></div>
          <div class="card"><blockquote>The team handled everything—permits, inspections, and a flawless LEED certification.</blockquote><strong>— L. Chen, Facility Manager, GreenWorks</strong></div>
        </div>
        <div class="carousel-indicators" aria-label="Testimonial navigation">
          <button data-slide="0" aria-label="Show testimonial 1"></button>
          <button data-slide="1" aria-label="Show testimonial 2"></button>
          <button data-slide="2" aria-label="Show testimonial 3"></button>
        </div>
      </div>
    </section>
    <!-- FAQ -->
    <section id="faq" class="faq container" data-animate>
      <h2>Frequently Asked Questions</h2>
      <details><summary>Are you licensed, bonded, and insured?</summary><p>Absolutely. We hold all required state & city licenses, carry multi-million-dollar liability coverage, and are fully bonded.</p></details>
      <details><summary>Do you offer free estimates?</summary><p>Yes, schedule a site visit and we'll provide a detailed, no-obligation quote.</p></details>
      <details><summary>How do you handle change orders?</summary><p>Changes are documented with transparent pricing and only proceed upon written client approval.</p></details>
    </section>
    <!-- Blog/News Section -->
    <section class="blog" id="blog" data-animate>
      <div class="container">
        <h2>Latest News</h2>
        <div class="blog-list">
          <div class="blog-card">
            <h3>Allied Wins 2024 Green Building Award</h3>
            <time datetime="2024-05-01">May 1, 2024</time>
            <p>Our sustainable retrofit project in River North has been recognized for innovation in energy efficiency and design.</p>
          </div>
          <div class="blog-card">
            <h3>Now Offering Smart Home Integration</h3>
            <time datetime="2024-04-15">April 15, 2024</time>
            <p>We now provide full smart home automation and IoT solutions for residential clients.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Social Media Feed Placeholder -->
    <div class="social-feed" data-animate>
      <div class="feed-placeholder">[Instagram feed coming soon]</div>
    </div>
    <!-- Contact -->
    <section id="contact" data-animate>
      <div class="container">
        <div class="call">
          <h2>Ready to break ground?</h2>
          <p>Request a free consultation and project estimate.</p>
          <form id="contactForm" aria-label="Contact form" autocomplete="off" novalidate>
            <div class="honeypot">
              <label for="website">Website</label>
              <input id="website" name="website" type="text" tabindex="-1" autocomplete="off">
            </div>
            <div class="form-group">
              <label for="name" class="visually-hidden">Your Name</label>
              <input id="name" name="name" type="text" placeholder="Your Name" required autocomplete="name">
              <span class="error-tooltip" id="nameError"></span>
            </div>
            <div class="form-group">
              <label for="email" class="visually-hidden">Email</label>
              <input id="email" name="email" type="email" placeholder="Email" required autocomplete="email">
              <span class="error-tooltip" id="emailError"></span>
            </div>
            <div class="form-group">
              <label for="phone" class="visually-hidden">Phone</label>
              <input id="phone" name="phone" type="tel" placeholder="Phone (optional)" autocomplete="tel">
            </div>
            <div class="form-group">
              <label for="message" class="visually-hidden">Project details</label>
              <textarea id="message" name="message" rows="4" placeholder="Project details…" required></textarea>
              <span class="error-tooltip" id="messageError"></span>
            </div>
            <button type="submit" class="btn" style="cursor:pointer;" aria-busy="false"><span id="submitText">Send Message</span></button>
            <p id="formStatus" aria-live="polite" style="font-weight:600;margin-top:.5rem;"></p>
          </form>
          <div class="map-embed" aria-label="Our office location">
            <iframe title="Allied Construction Chicago Map" src="https://www.openstreetmap.org/export/embed.html?bbox=-87.6847%2C41.8369%2C-87.6047%2C41.8969&amp;layer=mapnik&amp;marker=41.8669,-87.6447" width="100%" height="260" style="border:none;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
          <noscript>
            <p style="color:#fff;background:#c00;padding:1em;border-radius:8px;margin-top:1em;">JavaScript is required to submit this form. Please email us at <a href="mailto:info@alliedconstruction.com" style="color:#fff;text-decoration:underline;">info@alliedconstruction.com</a>.</p>
          </noscript>
        </div>
      </div>
    </section>
  </main>
  <!-- Sticky Mobile CTA -->
  <div id="stickyCTA" role="complementary">
    <span>Need a quote?</span>
    <a href="#contact">Get in touch</a>
  </div>
  <!-- =========================
       Footer
  ========================== -->
  <footer role="contentinfo">
    © <span id="year"></span> Allied Construction • <a href="tel:+13125551234">312-555-1234</a> • Chicago, IL
  </footer>

  <!-- =========================
       Back-to-top Button
  ========================== -->
  <button id="topBtn" aria-label="Back to top"><i class="fa-solid fa-arrow-up"></i></button>

  <!-- =========================
       Chat Widget Placeholder
  ========================== -->
  <div id="chatWidget" tabindex="0" aria-label="Open chat support">
    <i class="fa-solid fa-comments"></i> Chat with us
  </div>

  <!-- =========================
       Main Scripts
  ========================== -->
  <script id="main-script">
    // ===== Utility: DOM Ready =====
    const onReady = fn => {
      if (document.readyState !== 'loading') fn();
      else document.addEventListener('DOMContentLoaded', fn);
    };

    // ===== Loader overlay =====
    onReady(() => {
      setTimeout(() => {
        document.getElementById('pageloader').classList.add('hide');
      }, 400);
    });

    // ===== Cookie Consent =====
    onReady(() => {
      const cookieConsent = document.getElementById('cookieConsent');
      if (!localStorage.getItem('cookieConsent')) {
        cookieConsent.classList.remove('hide');
      }
      document.getElementById('acceptCookies').onclick = () => {
        localStorage.setItem('cookieConsent', '1');
        cookieConsent.classList.add('hide');
      };
    });

    // ===== Header scroll shadow, progress, sticky hide/show =====
    onReady(() => {
      const header = document.getElementById('header');
      const progress = document.getElementById('progress');
      let lastScrollY = 0;
      window.addEventListener('scroll', () => {
        const scY = window.scrollY;
        header.classList.toggle('scrolled', scY > 80);
        const max = document.body.scrollHeight - innerHeight;
        progress.style.width = `${(scY / max) * 100}%`;
        // Sticky hide/show
        if (scY > lastScrollY && scY > 120) {
          header.style.transform = 'translateY(-100%)';
        } else {
          header.style.transform = '';
        }
        lastScrollY = scY;
      }, { passive: true });
    });

    // ===== Mobile Nav (close on link click, ESC, focus trap) =====
    onReady(() => {
      const hamburger = document.getElementById('hamburger');
      const menu = document.getElementById('menu');
      hamburger.addEventListener('click', () => {
        const expanded = menu.classList.toggle('open');
        hamburger.setAttribute('aria-expanded', expanded);
        if (expanded) {
          const focusable = menu.querySelectorAll('a');
          let idx = 0;
          if (focusable[0]) focusable[0].focus();
          menu.onkeydown = e => {
            if (e.key === 'Tab') {
              e.preventDefault();
              idx = e.shiftKey ? (idx - 1 + focusable.length) % focusable.length : (idx + 1) % focusable.length;
              focusable[idx].focus();
            }
            if (e.key === 'Escape') {
              menu.classList.remove('open');
              hamburger.setAttribute('aria-expanded', false);
              hamburger.focus();
            }
          };
        } else {
          menu.onkeydown = null;
        }
      });
      // Close menu on link click (mobile)
      menu.querySelectorAll('a').forEach(link => link.addEventListener('click', () => {
        if (menu.classList.contains('open')) {
          menu.classList.remove('open');
          hamburger.setAttribute('aria-expanded', false);
        }
      }));
    });

    // ===== Theme Toggle (with transition) =====
    onReady(() => {
      const toggleBtn = document.getElementById('themeToggle');
      const root = document.documentElement;
      const setTheme = mode => {
        root.classList.toggle('dark', mode === 'dark');
        localStorage.setItem('theme', mode);
        toggleBtn.innerHTML = mode === 'dark'
          ? '<i class="fa-solid fa-moon"></i>'
          : '<i class="fa-solid fa-sun"></i>';
        document.body.style.transition = 'background .4s, color .4s';
      };
      const saved = localStorage.getItem('theme');
      if (saved) setTheme(saved);
      toggleBtn.addEventListener('click', () =>
        setTheme(root.classList.contains('dark') ? 'light' : 'dark')
      );
    });

    // ===== Active link & back-to-top =====
    onReady(() => {
      const links = document.querySelectorAll('nav a');
      const topBtn = document.getElementById('topBtn');
      window.addEventListener('scroll', () => {
        const fromTop = scrollY + 90;
        links.forEach(l => {
          const section = document.querySelector(l.getAttribute('href'));
          if (section && section.offsetTop <= fromTop && section.offsetTop + section.offsetHeight > fromTop) {
            l.classList.add('active');
          } else {
            l.classList.remove('active');
          }
        });
        topBtn.classList.toggle('show', scrollY > 700);
      }, { passive: true });
      topBtn.addEventListener('click', () => scrollTo({ top: 0, behavior: 'smooth' }));
    });

    // ===== Reveal on scroll (IntersectionObserver) =====
    onReady(() => {
      if ('IntersectionObserver' in window) {
        const io = new IntersectionObserver(es => {
          es.forEach(e => e.isIntersecting && e.target.classList.add('show'));
        }, { threshold: .15 });
        document.querySelectorAll('[data-animate]').forEach(el => io.observe(el));
      } else {
        document.querySelectorAll('[data-animate]').forEach(el => el.classList.add('show'));
      }
    });

    // ===== Counters (animate on scroll into view) =====
    onReady(() => {
      const animateCounter = (el, target, suffix) => {
        let start = target === 0 ? 0 : 1;
        const step = target > 0 ? Math.max(1, target / 60) : 1;
        let started = false;
        function run() {
          if (target === 0) {
            el.textContent = '0';
            return;
          }
          const i = setInterval(() => {
            start += step;
            if (start >= target) {
              el.textContent = target + (suffix || '');
              clearInterval(i);
            } else {
              el.textContent = Math.ceil(start) + (suffix || '');
            }
          }, 30);
        }
        function onScroll() {
          if (!started && el.getBoundingClientRect().top < window.innerHeight - 80) {
            started = true;
            run();
            window.removeEventListener('scroll', onScroll);
          }
        }
        window.addEventListener('scroll', onScroll, { passive: true });
        onScroll();
      };
      animateCounter(document.getElementById('years'), 30, '+');
      animateCounter(document.getElementById('projects'), 150, '');
      animateCounter(document.getElementById('safety'), 0, '');
    });

    // ===== Gallery Lightbox (keyboard, swipe, focus trap) =====
    onReady(() => {
      const imgs = document.querySelectorAll('.gallery img');
      imgs.forEach((img, idx) => {
        img.addEventListener('click', () => openLightbox(idx));
        img.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') openLightbox(idx);
        });
      });
      function openLightbox(idx) {
        const arr = Array.from(document.querySelectorAll('.gallery img'));
        let current = idx;
        const overlay = document.createElement('div');
        overlay.id = 'lightbox';
        overlay.tabIndex = 0;
        overlay.setAttribute('role', 'dialog');
        overlay.setAttribute('aria-modal', 'true');
        overlay.style.outline = 'none';
        const showImg = i => {
          overlay.innerHTML = `<img src="${arr[i].src.replace('600x400','1200x800')}" alt="${arr[i].alt}"><span id='close' tabindex="0" aria-label="Close">&times;</span>`;
        };
        showImg(current);
        document.body.appendChild(overlay);
        overlay.focus();
        // Trap focus inside overlay
        overlay.addEventListener('keydown', e => {
          if (e.key === 'Escape') overlay.remove();
          if (e.key === 'ArrowRight') { current = (current + 1) % arr.length; showImg(current);}
          if (e.key === 'ArrowLeft') { current = (current - 1 + arr.length) % arr.length; showImg(current);}
          if (e.key === 'Tab') { e.preventDefault(); document.getElementById('close').focus(); }
        });
        overlay.addEventListener('click', e => {
          if (e.target.id === 'lightbox' || e.target.id === 'close') overlay.remove();
        });
        overlay.addEventListener('keydown', e => {
          if (e.target.id === 'close' && (e.key === 'Enter' || e.key === ' ')) overlay.remove();
        });
        // Swipe support
        let startX = null;
        overlay.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
        overlay.addEventListener('touchend', e => {
          if (!startX) return;
          const endX = e.changedTouches[0].clientX;
          const diff = endX - startX;
          if (Math.abs(diff) > 30) {
            current = (current + (diff > 0 ? -1 : 1) + arr.length) % arr.length;
            showImg(current);
          }
          startX = null;
        });
      }
    });

    // ===== Testimonials Carousel: auto-advance, indicators, keyboard =====
    onReady(() => {
      const carousel = document.querySelector('.carousel');
      const cards = carousel.querySelectorAll('.card');
      const indicators = document.querySelectorAll('.carousel-indicators button');
      let idx = 0, timer = null;
      function show(i) {
        idx = i;
        cards.forEach((c, j) => c.style.display = j === i ? 'block' : 'none');
        indicators.forEach((b, j) => b.classList.toggle('active', j === i));
      }
      function next() { show((idx + 1) % cards.length); }
      function prev() { show((idx - 1 + cards.length) % cards.length); }
      function startAuto() {
        timer = setInterval(next, 7000);
      }
      function stopAuto() {
        clearInterval(timer);
      }
      // Init
      show(0);
      startAuto();
      indicators.forEach((btn, i) => {
        btn.addEventListener('click', () => { show(i); stopAuto(); startAuto(); });
      });
      carousel.addEventListener('keydown', e => {
        if (e.key === 'ArrowRight') { next(); stopAuto(); startAuto(); }
        if (e.key === 'ArrowLeft') { prev(); stopAuto(); startAuto(); }
      });
      carousel.addEventListener('mouseenter', stopAuto);
      carousel.addEventListener('mouseleave', startAuto);
    });

    // ===== Form: AJAX submit, validation, honeypot, accessibility =====
    onReady(() => {
      const form = document.getElementById('contactForm');
      const status = document.getElementById('formStatus');
      const btn = form.querySelector('button[type="submit"]');
      const nameInput = form.querySelector('#name');
      const emailInput = form.querySelector('#email');
      const messageInput = form.querySelector('#message');
      const nameError = document.getElementById('nameError');
      const emailError = document.getElementById('emailError');
      const messageError = document.getElementById('messageError');
      const honeypot = form.querySelector('input[name="website"]');
      function validate() {
        let valid = true;
        // Name
        if (!nameInput.value.trim()) {
          nameError.textContent = 'Name is required';
          nameInput.parentElement.classList.add('error');
          valid = false;
        } else {
          nameError.textContent = '';
          nameInput.parentElement.classList.remove('error');
        }
        // Email
        const emailVal = emailInput.value.trim();
        if (!emailVal) {
          emailError.textContent = 'Email is required';
          emailInput.parentElement.classList.add('error');
          valid = false;
        } else if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(emailVal)) {
          emailError.textContent = 'Invalid email address';
          emailInput.parentElement.classList.add('error');
          valid = false;
        } else {
          emailError.textContent = '';
          emailInput.parentElement.classList.remove('error');
        }
        // Message
        if (!messageInput.value.trim()) {
          messageError.textContent = 'Message is required';
          messageInput.parentElement.classList.add('error');
          valid = false;
        } else {
          messageError.textContent = '';
          messageInput.parentElement.classList.remove('error');
        }
        return valid;
      }
      [nameInput, emailInput, messageInput].forEach(input => {
        input.addEventListener('input', validate);
      });
      form.addEventListener('submit', e => {
        e.preventDefault();
        status.textContent = '';
        if (honeypot.value) return; // bot detected
        if (!validate()) {
          status.textContent = 'Please fix errors above.';
          status.style.color = '#f44336';
          return;
        }
        btn.disabled = true;
        btn.setAttribute('aria-busy', 'true');
        btn.querySelector('#submitText').textContent = 'Sending...';
        const data = new FormData(form);
        fetch('https://formspree.io/f/mwkajgyd', {
          method: 'POST',
          headers: { 'Accept': 'application/json' },
          body: data
        }).then(response => {
          btn.disabled = false;
          btn.setAttribute('aria-busy', 'false');
          btn.querySelector('#submitText').textContent = 'Send Message';
          if (response.ok) {
            form.reset();
            status.innerHTML = 'Message sent successfully!';
            status.style.color = '#4caf50';
          } else {
            status.innerHTML = 'Error sending message. Please try again later.';
            status.style.color = '#f44336';
          }
        }).catch(() => {
          btn.disabled = false;
          btn.setAttribute('aria-busy', 'false');
          btn.querySelector('#submitText').textContent = 'Send Message';
          status.innerHTML = 'Network error. Please try again.';
          status.style.color = '#f44336';
        });
      });
    });

    // ===== Footer: Set copyright year =====
    onReady(() => {
      const year = document.getElementById('year');
      if (year) year.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
