class l{constructor(){this.currentSlide=0,this.totalSlides=3,this.slideInterval=null,this.init()}init(){this.setupMobileNavigation(),this.setupSmoothScrolling(),this.setupContactForm(),this.setupScrollNavbar(),this.setupIntersectionObserver(),this.setupTestimonialSlider()}setupMobileNavigation(){const e=document.getElementById("hamburger"),s=document.getElementById("mobile-menu");!e||!s||(e.addEventListener("click",()=>{!s.classList.contains("-translate-x-full")?(s.classList.add("-translate-x-full"),e.classList.remove("active"),e.setAttribute("aria-expanded","false")):(s.classList.remove("-translate-x-full"),e.classList.add("active"),e.setAttribute("aria-expanded","true"))}),s.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{s.classList.add("-translate-x-full"),e.classList.remove("active"),e.setAttribute("aria-expanded","false")})}),document.addEventListener("click",t=>{!e.contains(t.target)&&!s.contains(t.target)&&(s.classList.add("-translate-x-full"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"))}))}setupSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",s=>{s.preventDefault();const t=e.getAttribute("href"),r=document.querySelector(t);if(r){const o=r.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}})})}setupContactForm(){const e=document.querySelector("#contact form");e&&e.addEventListener("submit",s=>{s.preventDefault();const t=new FormData(e),r=t.get("name")?.toString().trim()||"",o=t.get("email")?.toString().trim()||"",n=t.get("message")?.toString().trim()||"",a=this.validateForm({name:r,email:o,message:n});a.length===0?this.submitForm(e,{name:r,email:o,message:n}):this.showFormErrors(a)})}validateForm({name:e,email:s,message:t}){const r=[];return e||r.push("Name is required"),s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||r.push("Invalid email format"):r.push("Email is required"),t||r.push("Message is required"),r}showFormErrors(e){const s=document.querySelector(".form-error");s&&s.remove();const t=document.createElement("div");t.className="form-error bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",t.innerHTML=`
      <strong>Please fix the following errors:</strong>
      <ul class="list-disc list-inside mt-2">
        ${e.map(o=>`<li>${o}</li>`).join("")}
      </ul>
    `,document.querySelector("#contact form")?.prepend(t)}submitForm(e,s){const t=e.querySelector('button[type="submit"]'),r=t.textContent;t.textContent="Sending...",t.disabled=!0,setTimeout(()=>{this.showSuccessMessage(),e.reset(),t.textContent=r,t.disabled=!1},1500)}showSuccessMessage(){document.querySelectorAll(".form-error, .form-success").forEach(r=>r.remove());const s=document.createElement("div");s.className="form-success bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",s.innerHTML=`
      <strong>Success!</strong> Thank you for your message. We'll get back to you soon.
    `,document.querySelector("#contact form")?.prepend(s),setTimeout(()=>s.remove(),5e3)}setupScrollNavbar(){let e=!1;const s=()=>{const t=document.querySelector("header");t&&(window.scrollY>50?(t.classList.add("bg-white/95","backdrop-blur-md","shadow-lg"),t.classList.remove("bg-transparent")):(t.classList.remove("bg-white/95","backdrop-blur-md","shadow-lg"),t.classList.add("bg-transparent")),e=!1)};window.addEventListener("scroll",()=>{e||(requestAnimationFrame(s),e=!0)})}setupIntersectionObserver(){const e={threshold:.1,rootMargin:"0px 0px -50px 0px"},s=new IntersectionObserver(r=>{r.forEach(o=>{if(o.isIntersecting){const n=o.target;n.classList.add("animate-fade-in-up"),s.unobserve(n)}})},e);document.querySelectorAll(".service-card, .project-card, .about-content, .contact-content").forEach(r=>{r.classList.add("opacity-0","translate-y-8"),s.observe(r)})}setupTestimonialSlider(){const e=document.getElementById("testimonial-slider"),s=document.querySelectorAll("#slider-nav .dot");!e||s.length===0||(this.showSlide(0),s.forEach((t,r)=>{t.addEventListener("click",()=>this.showSlide(r))}),this.startSlideshow(),e.addEventListener("mouseenter",()=>this.pauseSlideshow()),e.addEventListener("mouseleave",()=>this.startSlideshow()))}showSlide(e){const s=document.getElementById("testimonial-slider"),t=document.querySelectorAll("#slider-nav .dot");!s||!t.length||(s.style.transform=`translateX(-${e*100}%)`,t.forEach((r,o)=>{r.classList.toggle("active",o===e),r.classList.toggle("bg-orange-500",o===e),r.classList.toggle("opacity-100",o===e),r.classList.toggle("bg-white",o!==e),r.classList.toggle("opacity-50",o!==e)}),this.currentSlide=e)}startSlideshow(){this.pauseSlideshow(),this.slideInterval=setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.totalSlides,this.showSlide(this.currentSlide)},6e3)}pauseSlideshow(){this.slideInterval&&(clearInterval(this.slideInterval),this.slideInterval=null)}}document.addEventListener("DOMContentLoaded",()=>{new l});document.addEventListener("visibilitychange",()=>{const i=window.websiteController;document.hidden&&i?i.pauseSlideshow():i&&i.startSlideshow()});
