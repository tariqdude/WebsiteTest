---
---

<button id="theme-toggle" class="p-2 rounded-full bg-surface text-text hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-300">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h1M3 12H2m8.003-8.003l.707-.707M15.293 5.293l.707-.707M6.707 19.293l-.707.707M19.293 6.707l.707-.707M18 12a6 6 0 11-12 0 6 6 0 0112 0z" />
  </svg>
</button>

<script is:inline>
  const themeToggle = document.getElementById('theme-toggle');
  const htmlElement = document.documentElement;

  // On page load, apply the theme from localStorage or system preference
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    htmlElement.classList.add(savedTheme);
  } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    htmlElement.classList.add('dark');
  }

  themeToggle.addEventListener('click', () => {
    if (htmlElement.classList.contains('dark')) {
      htmlElement.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      htmlElement.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
  });
</script>
