---
interface Props {
  phrases: string[];
  typeSpeed?: number;
  backSpeed?: number;
  loop?: boolean;
}

const { phrases, typeSpeed = 50, backSpeed = 50, loop = true } = Astro.props;
---

<div class="type-wrap">
  <span class="typed"></span>
</div>

<script type="module">
  import Typed from 'typed.js';

  document.addEventListener('astro:load', () => {
    const typedElement = document.querySelector('.typed');
    if (typedElement) {
      new Typed(typedElement, {
        strings: {JSON.stringify(phrases)},
        typeSpeed: {typeSpeed},
        backSpeed: {backSpeed},
        loop: {loop},
        showCursor: true,
        cursorChar: '|',
      });
    }
  });
</script>
