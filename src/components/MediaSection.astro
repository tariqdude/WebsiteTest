---
// Enhanced Media Section Component
export interface Props {
  mediaType?: 'gallery' | 'video' | 'testimonials';
}

const { mediaType = 'gallery' } = Astro.props;
---

<section id="gallery" class="py-16 lg:py-24 bg-gradient-to-b from-gray-50 to-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Enhanced Section Header -->
    <div class="text-center mb-12 lg:mb-16" data-animate>
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-brand-secondary to-orange-600 rounded-2xl mb-6 shadow-medium">
        <i class="fas fa-images text-white text-2xl"></i>
      </div>
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-heading font-bold text-brand-dark mb-4">
        Our <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-secondary to-orange-600">Work</span> Speaks
      </h2>
      <p class="text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
        Discover our craftsmanship through our portfolio of completed projects, client testimonials, and behind-the-scenes insights.
      </p>
    </div>

    <!-- Enhanced Media Type Selector -->
    <div class="flex justify-center mb-10 lg:mb-12" data-animate>
      <div class="inline-flex bg-white rounded-2xl p-2 shadow-soft border border-gray-100">
        <button 
          id="gallery-btn" 
          class="media-tab-btn active px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 flex items-center space-x-2"
          data-content="gallery"
        >
          <i class="fas fa-images"></i>
          <span class="hidden xs:inline">Project Gallery</span>
          <span class="xs:hidden">Gallery</span>
        </button>
        <button 
          id="video-btn" 
          class="media-tab-btn px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 flex items-center space-x-2"
          data-content="video"
        >
          <i class="fas fa-play-circle"></i>
          <span class="hidden xs:inline">Video Tour</span>
          <span class="xs:hidden">Video</span>
        </button>
        <button 
          id="testimonials-btn" 
          class="media-tab-btn px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 flex items-center space-x-2"
          data-content="testimonials"
        >
          <i class="fas fa-quote-left"></i>
          <span class="hidden xs:inline">Client Reviews</span>
          <span class="xs:hidden">Reviews</span>
        </button>
      </div>
    </div>

    <!-- Enhanced Gallery Content -->
    <div id="gallery-content" class="media-content block" data-animate>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8">
        <!-- Project Cards with Enhanced Design -->
        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-brand-primary to-blue-600">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-hammer text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">Kitchen Renovation</h3>
              <p class="text-sm opacity-80">Modern Design & Functionality</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>

        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-brand-accent to-green-600">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-fan text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">HVAC Installation</h3>
              <p class="text-sm opacity-80">Energy Efficient Systems</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>

        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-brand-secondary to-orange-600">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-home text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">Home Addition</h3>
              <p class="text-sm opacity-80">Seamless Integration</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>

        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-purple-500 to-purple-700">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-wrench text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">Plumbing Service</h3>
              <p class="text-sm opacity-80">Complete Water Solutions</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>

        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-red-500 to-red-700 sm:col-span-2 lg:col-span-1">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-paint-roller text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">Interior Design</h3>
              <p class="text-sm opacity-80">Beautiful Transformations</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>

        <div class="project-card group relative overflow-hidden rounded-2xl shadow-soft hover:shadow-strong transition-all duration-500 bg-gradient-to-br from-yellow-500 to-yellow-600 sm:col-span-2 lg:col-span-1">
          <div class="aspect-square flex items-center justify-center text-white p-8">
            <div class="text-center transform group-hover:scale-110 transition-transform duration-500">
              <i class="fas fa-bolt text-4xl lg:text-5xl mb-4 opacity-90"></i>
              <h3 class="text-lg font-heading font-semibold mb-2">Electrical Work</h3>
              <p class="text-sm opacity-80">Safe & Code Compliant</p>
            </div>
          </div>
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500 flex items-center justify-center">
            <div class="opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0">
              <button class="bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-full font-medium hover:bg-white/30 transition-colors duration-300">
                <i class="fas fa-search-plus mr-2"></i>View Details
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- View All Projects CTA -->
      <div class="text-center mt-12">
        <button class="inline-flex items-center px-8 py-4 bg-brand-dark hover:bg-gray-800 text-white font-semibold rounded-xl shadow-medium hover:shadow-strong transition-all duration-300 transform hover:scale-105">
          <i class="fas fa-plus mr-2"></i>
          View All Projects
          <i class="fas fa-arrow-right ml-2"></i>
        </button>
      </div>
    </div>

    <!-- Enhanced Video Content -->
    <div id="video-content" class="media-content hidden" data-animate>
      <div class="max-w-5xl mx-auto">
        <div class="relative rounded-3xl overflow-hidden shadow-strong bg-gradient-to-br from-brand-dark to-gray-900">
          <div class="aspect-video flex items-center justify-center">
            <div class="text-center text-white p-8">
              <div class="inline-flex items-center justify-center w-20 h-20 bg-brand-secondary/20 backdrop-blur-sm rounded-full mb-6 hover:bg-brand-secondary/30 transition-colors duration-300 cursor-pointer group">
                <i class="fas fa-play text-3xl text-brand-secondary group-hover:scale-110 transition-transform duration-300"></i>
              </div>
              <h3 class="text-2xl lg:text-3xl font-heading font-bold mb-4">See Our Expertise in Action</h3>
              <p class="text-lg text-gray-300 max-w-2xl mx-auto">Watch our professional team transform spaces with precision, quality, and attention to detail.</p>
            </div>
          </div>
        </div>
        
        <!-- Video Features -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 mt-10">
          <div class="text-center bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-shadow duration-300">
            <div class="inline-flex items-center justify-center w-14 h-14 bg-brand-secondary/10 rounded-2xl mb-4">
              <i class="fas fa-tools text-2xl text-brand-secondary"></i>
            </div>
            <h4 class="text-lg font-heading font-semibold text-brand-dark mb-3">Professional Equipment</h4>
            <p class="text-gray-600 leading-relaxed">Latest tools and machinery for precision work and quality results.</p>
          </div>
          
          <div class="text-center bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-shadow duration-300">
            <div class="inline-flex items-center justify-center w-14 h-14 bg-brand-accent/10 rounded-2xl mb-4">
              <i class="fas fa-hard-hat text-2xl text-brand-accent"></i>
            </div>
            <h4 class="text-lg font-heading font-semibold text-brand-dark mb-3">Safety Protocols</h4>
            <p class="text-gray-600 leading-relaxed">Comprehensive safety measures and certified procedures for every project.</p>
          </div>
          
          <div class="text-center bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-shadow duration-300">
            <div class="inline-flex items-center justify-center w-14 h-14 bg-brand-primary/10 rounded-2xl mb-4">
              <i class="fas fa-certificate text-2xl text-brand-primary"></i>
            </div>
            <h4 class="text-lg font-heading font-semibold text-brand-dark mb-3">Licensed Professionals</h4>
            <p class="text-gray-600 leading-relaxed">Fully licensed and insured contractors with years of experience.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced Testimonials Content -->
    <div id="testimonials-content" class="media-content hidden" data-animate>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
        <div class="testimonial-card bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-all duration-300 transform hover:-translate-y-1">
          <div class="flex items-center mb-6">
            <div class="flex text-yellow-400 text-lg">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <span class="ml-2 text-sm text-gray-500 font-medium">5.0</span>
          </div>
          <blockquote class="text-gray-700 mb-6 leading-relaxed font-medium">
            "Outstanding work on our kitchen renovation! The team was professional, punctual, and delivered beyond our expectations. Couldn't be happier!"
          </blockquote>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-gradient-to-br from-brand-primary to-blue-600 rounded-full flex items-center justify-center mr-4">
              <span class="text-white font-semibold">JD</span>
            </div>
            <div>
              <p class="font-semibold text-brand-dark">John & Sarah Davis</p>
              <p class="text-sm text-gray-500">Kitchen Renovation • March 2024</p>
            </div>
          </div>
        </div>

        <div class="testimonial-card bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-all duration-300 transform hover:-translate-y-1">
          <div class="flex items-center mb-6">
            <div class="flex text-yellow-400 text-lg">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <span class="ml-2 text-sm text-gray-500 font-medium">5.0</span>
          </div>
          <blockquote class="text-gray-700 mb-6 leading-relaxed font-medium">
            "Best HVAC service in the area! They replaced our entire system quickly and efficiently. Great communication throughout the process."
          </blockquote>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-gradient-to-br from-brand-accent to-green-600 rounded-full flex items-center justify-center mr-4">
              <span class="text-white font-semibold">MJ</span>
            </div>
            <div>
              <p class="font-semibold text-brand-dark">Michael Johnson</p>
              <p class="text-sm text-gray-500">HVAC Installation • February 2024</p>
            </div>
          </div>
        </div>

        <div class="testimonial-card bg-white rounded-2xl p-6 lg:p-8 shadow-soft hover:shadow-medium transition-all duration-300 transform hover:-translate-y-1 md:col-span-2 lg:col-span-1">
          <div class="flex items-center mb-6">
            <div class="flex text-yellow-400 text-lg">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <span class="ml-2 text-sm text-gray-500 font-medium">5.0</span>
          </div>
          <blockquote class="text-gray-700 mb-6 leading-relaxed font-medium">
            "Transformed our office space beautifully. The attention to detail and project management was exceptional. Highly recommend!"
          </blockquote>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full flex items-center justify-center mr-4">
              <span class="text-white font-semibold">LM</span>
            </div>
            <div>
              <p class="font-semibold text-brand-dark">Lisa Martinez</p>
              <p class="text-sm text-gray-500">Office Renovation • January 2024</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- More Reviews CTA -->
      <div class="text-center mt-12">
        <button class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-brand-secondary to-orange-600 text-white font-semibold rounded-xl shadow-medium hover:shadow-strong transition-all duration-300 transform hover:scale-105">
          <i class="fas fa-star mr-2"></i>
          Read More Reviews
          <i class="fas fa-external-link-alt ml-2 text-sm"></i>
        </button>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.media-tab-btn');
    const contents = document.querySelectorAll('.media-content');
    
    function switchTab(targetContent) {
      // Update button states
      tabButtons.forEach(btn => {
        if (btn.dataset.content === targetContent) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // Show/hide content with animation
      contents.forEach(content => {
        if (content.id === `${targetContent}-content`) {
          content.classList.remove('hidden');
          content.classList.add('block');
          // Trigger animation
          setTimeout(() => {
            content.style.opacity = '1';
            content.style.transform = 'translateY(0)';
          }, 10);
        } else {
          content.style.opacity = '0';
          content.style.transform = 'translateY(10px)';
          setTimeout(() => {
            content.classList.add('hidden');
            content.classList.remove('block');
          }, 300);
        }
      });
    }
    
    // Add event listeners to tab buttons
    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const targetContent = btn.dataset.content;
        switchTab(targetContent);
      });
    });
  });
</script>

<style>
  .media-tab-btn {
    @apply text-gray-600 hover:text-brand-secondary;
  }
  
  .media-tab-btn.active {
    @apply bg-brand-secondary text-white shadow-medium;
  }
  
  .media-content {
    transition: opacity 0.3s ease, transform 0.3s ease;
  }
  
  .project-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    pointer-events: none;
  }
  
  .testimonial-card {
    position: relative;
  }
  
  .testimonial-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(to bottom, #f97316, #ea580c);
    border-radius: 0 4px 4px 0;
  }
</style>
